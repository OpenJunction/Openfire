<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_15) on Fri May 01 14:12:02 PDT 2009 -->
<TITLE>
ServerDialback (Openfire 3.6.4 Javadoc)
</TITLE>

<META NAME="keywords" CONTENT="org.jivesoftware.openfire.server.ServerDialback class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ServerDialback (Openfire 3.6.4 Javadoc)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Openfire 3.6.4 Javadoc</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/jivesoftware/openfire/server/RemoteServerManager.PermissionPolicy.html" title="enum in org.jivesoftware.openfire.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/jivesoftware/openfire/server/ServerDialback.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ServerDialback.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.jivesoftware.openfire.server</FONT>
<BR>
Class ServerDialback</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.jivesoftware.openfire.server.ServerDialback</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ServerDialback</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Implementation of the Server Dialback method as defined by the RFC3920.

 The dialback method follows the following logic to validate the remote server:
 <ol>
  <li>The Originating Server establishes a connection to the Receiving Server.</li>
  <li>The Originating Server sends a 'key' value over the connection to the Receiving
  Server.</li>
  <li>The Receiving Server establishes a connection to the Authoritative Server.</li>
  <li>The Receiving Server sends the same 'key' value to the Authoritative Server.</li>
  <li>The Authoritative Server replies that key is valid or invalid.</li>
  <li>The Receiving Server informs the Originating Server whether it is authenticated or
  not.</li>
 </ol>

 By default a timeout of 20 seconds will be used for reading packets from remote servers. Use
 the property <b>xmpp.server.read.timeout</b> to change that value. The value should be in
 milliseconds.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Gaston Dombiak</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#CHARSET">CHARSET</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The utf-8 charset for decoding and encoding Jabber packet streams.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#ServerDialback()">ServerDialback</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#ServerDialback(org.jivesoftware.openfire.Connection, java.lang.String)">ServerDialback</A></B>(<A HREF="../../../../org/jivesoftware/openfire/Connection.html" title="interface in org.jivesoftware.openfire">Connection</A>&nbsp;connection,
               <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;serverName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new instance that will be used for creating <A HREF="../../../../org/jivesoftware/openfire/session/IncomingServerSession.html" title="interface in org.jivesoftware.openfire.session"><CODE>IncomingServerSession</CODE></A>,
 validating subsequent domains or authenticatig new domains.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#authenticateDomain(org.jivesoftware.openfire.server.OutgoingServerSocketReader, java.lang.String, java.lang.String, java.lang.String)">authenticateDomain</A></B>(<A HREF="../../../../org/jivesoftware/openfire/server/OutgoingServerSocketReader.html" title="class in org.jivesoftware.openfire.server">OutgoingServerSocketReader</A>&nbsp;socketReader,
                   <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;domain,
                   <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;hostname,
                   <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Authenticates the Originating Server domain with the Receiving Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/jivesoftware/openfire/session/LocalIncomingServerSession.html" title="class in org.jivesoftware.openfire.session">LocalIncomingServerSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#createIncomingSession(org.dom4j.io.XMPPPacketReader)">createIncomingSession</A></B>(org.dom4j.io.XMPPPacketReader&nbsp;reader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a new <A HREF="../../../../org/jivesoftware/openfire/session/IncomingServerSession.html" title="interface in org.jivesoftware.openfire.session"><CODE>IncomingServerSession</CODE></A> with a domain validated by the Authoritative
 Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/jivesoftware/openfire/session/LocalOutgoingServerSession.html" title="class in org.jivesoftware.openfire.session">LocalOutgoingServerSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#createOutgoingSession(java.lang.String, java.lang.String, int)">createOutgoingSession</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;domain,
                      <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;hostname,
                      int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new connection from the Originating Server to the Receiving Server for
 authenticating the specified domain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#isEnabled()">isEnabled</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if server dialback is enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#isEnabledForSelfSigned()">isEnabledForSelfSigned</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if server dialback can be used when the remote server presented a self-signed
 certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#setEnabledForSelfSigned(boolean)">setEnabledForSelfSigned</A></B>(boolean&nbsp;enabled)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets if server dialback can be used when the remote server presented a self-signed
 certificate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#validateRemoteDomain(org.dom4j.Element, org.jivesoftware.openfire.StreamID)">validateRemoteDomain</A></B>(org.dom4j.Element&nbsp;doc,
                     <A HREF="../../../../org/jivesoftware/openfire/StreamID.html" title="interface in org.jivesoftware.openfire">StreamID</A>&nbsp;streamID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the domain requested by the remote server was validated by the Authoritative
 Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#verifyReceivedKey(org.dom4j.Element, org.jivesoftware.openfire.Connection)">verifyReceivedKey</A></B>(org.dom4j.Element&nbsp;doc,
                  <A HREF="../../../../org/jivesoftware/openfire/Connection.html" title="interface in org.jivesoftware.openfire">Connection</A>&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies the key sent by a Receiving Server.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CHARSET"><!-- --></A><H3>
CHARSET</H3>
<PRE>
protected static <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A> <B>CHARSET</B></PRE>
<DL>
<DD>The utf-8 charset for decoding and encoding Jabber packet streams.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ServerDialback(org.jivesoftware.openfire.Connection, java.lang.String)"><!-- --></A><H3>
ServerDialback</H3>
<PRE>
public <B>ServerDialback</B>(<A HREF="../../../../org/jivesoftware/openfire/Connection.html" title="interface in org.jivesoftware.openfire">Connection</A>&nbsp;connection,
                      <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;serverName)</PRE>
<DL>
<DD>Creates a new instance that will be used for creating <A HREF="../../../../org/jivesoftware/openfire/session/IncomingServerSession.html" title="interface in org.jivesoftware.openfire.session"><CODE>IncomingServerSession</CODE></A>,
 validating subsequent domains or authenticatig new domains. Use
 <A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#createIncomingSession(org.dom4j.io.XMPPPacketReader)"><CODE>createIncomingSession(org.dom4j.io.XMPPPacketReader)</CODE></A> for creating a new server
 session used for receiving packets from the remote server. Use
 <A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#validateRemoteDomain(org.dom4j.Element, org.jivesoftware.openfire.StreamID)"><CODE>validateRemoteDomain(org.dom4j.Element, org.jivesoftware.openfire.StreamID)</CODE></A> for
 validating subsequent domains and use
 <A HREF="../../../../org/jivesoftware/openfire/server/ServerDialback.html#authenticateDomain(org.jivesoftware.openfire.server.OutgoingServerSocketReader, java.lang.String, java.lang.String, java.lang.String)"><CODE>authenticateDomain(OutgoingServerSocketReader, String, String, String)</CODE></A> for
 registering new domains that are allowed to send packets to the remote server.<p>

 For validating domains a new TCP connection will be established to the Authoritative Server.
 The Authoritative Server may be the same Originating Server or some other machine in the
 Originating Server's network. Once the remote domain gets validated the Originating Server
 will be allowed for sending packets to this server. However, this server will need to
 validate its domain/s with the Originating Server if this server needs to send packets to
 the Originating Server. Another TCP connection will be established for validation this
 server domain/s and for sending packets to the Originating Server.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - the connection created by the remote server.<DD><CODE>serverName</CODE> - the name of the local server.</DL>
</DL>
<HR>

<A NAME="ServerDialback()"><!-- --></A><H3>
ServerDialback</H3>
<PRE>
public <B>ServerDialback</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isEnabled()"><!-- --></A><H3>
isEnabled</H3>
<PRE>
public static boolean <B>isEnabled</B>()</PRE>
<DL>
<DD>Returns true if server dialback is enabled. When enabled remote servers may connect to this
 server using the server dialback method and this server may try the server dialback method
 to connect to remote servers.<p>

 When TLS is enabled between servers and server dialback method is enabled then TLS is going
 to be tried first, when connecting to a remote server, and if TLS fails then server dialback
 is going to be used as a last resort. If enabled and the remote server offered server-dialback
 after TLS and no SASL EXTERNAL then server dialback will be used.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if server dialback is enabled.</DL>
</DD>
</DL>
<HR>

<A NAME="isEnabledForSelfSigned()"><!-- --></A><H3>
isEnabledForSelfSigned</H3>
<PRE>
public static boolean <B>isEnabledForSelfSigned</B>()</PRE>
<DL>
<DD>Returns true if server dialback can be used when the remote server presented a self-signed
 certificate. During TLS the remote server can present a self-signed certificate, if this
 setting is enabled then the self-signed certificate will be accepted and if SASL EXTERNAL
 is not offered then server dialback will be used for verifying the remote server.<p>

 If self-signed certificates are accepted then server dialback over TLS is enabled.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if server dialback can be used when the remote server presented a self-signed
 certificate.</DL>
</DD>
</DL>
<HR>

<A NAME="setEnabledForSelfSigned(boolean)"><!-- --></A><H3>
setEnabledForSelfSigned</H3>
<PRE>
public static void <B>setEnabledForSelfSigned</B>(boolean&nbsp;enabled)</PRE>
<DL>
<DD>Sets if server dialback can be used when the remote server presented a self-signed
 certificate. During TLS the remote server can present a self-signed certificate, if this
 setting is enabled then the self-signed certificate will be accepted and if SASL EXTERNAL
 is not offered then server dialback will be used for verifying the remote server.<p>

 If self-signed certificates are accepted then server dialback over TLS is enabled.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>enabled</CODE> - if server dialback can be used when the remote server presented a self-signed
 certificate.</DL>
</DD>
</DL>
<HR>

<A NAME="createOutgoingSession(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
createOutgoingSession</H3>
<PRE>
public <A HREF="../../../../org/jivesoftware/openfire/session/LocalOutgoingServerSession.html" title="class in org.jivesoftware.openfire.session">LocalOutgoingServerSession</A> <B>createOutgoingSession</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;domain,
                                                        <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;hostname,
                                                        int&nbsp;port)</PRE>
<DL>
<DD>Creates a new connection from the Originating Server to the Receiving Server for
 authenticating the specified domain.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>domain</CODE> - domain of the Originating Server to authenticate with the Receiving Server.<DD><CODE>hostname</CODE> - IP address or hostname of the Receiving Server.<DD><CODE>port</CODE> - port of the Receiving Server.
<DT><B>Returns:</B><DD>an OutgoingServerSession if the domain was authenticated or <tt>null</tt> if none.</DL>
</DD>
</DL>
<HR>

<A NAME="authenticateDomain(org.jivesoftware.openfire.server.OutgoingServerSocketReader, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
authenticateDomain</H3>
<PRE>
public boolean <B>authenticateDomain</B>(<A HREF="../../../../org/jivesoftware/openfire/server/OutgoingServerSocketReader.html" title="class in org.jivesoftware.openfire.server">OutgoingServerSocketReader</A>&nbsp;socketReader,
                                  <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;domain,
                                  <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;hostname,
                                  <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;id)</PRE>
<DL>
<DD>Authenticates the Originating Server domain with the Receiving Server. Once the domain has
 been authenticated the Receiving Server will start accepting packets from the Originating
 Server.<p>

 The Receiving Server will connect to the Authoritative Server to verify the dialback key.
 Most probably the Originating Server machine will be the Authoritative Server too.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>socketReader</CODE> - the reader to use for reading the answer from the Receiving Server.<DD><CODE>domain</CODE> - the domain to authenticate.<DD><CODE>hostname</CODE> - the hostname of the remote server (i.e. Receiving Server).<DD><CODE>id</CODE> - the stream id to be used for creating the dialback key.
<DT><B>Returns:</B><DD>true if the Receiving Server authenticated the domain with the Authoritative Server.</DL>
</DD>
</DL>
<HR>

<A NAME="createIncomingSession(org.dom4j.io.XMPPPacketReader)"><!-- --></A><H3>
createIncomingSession</H3>
<PRE>
public <A HREF="../../../../org/jivesoftware/openfire/session/LocalIncomingServerSession.html" title="class in org.jivesoftware.openfire.session">LocalIncomingServerSession</A> <B>createIncomingSession</B>(org.dom4j.io.XMPPPacketReader&nbsp;reader)
                                                 throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html" title="class or interface in java.io">IOException</A>,
                                                        org.xmlpull.v1.XmlPullParserException</PRE>
<DL>
<DD>Returns a new <A HREF="../../../../org/jivesoftware/openfire/session/IncomingServerSession.html" title="interface in org.jivesoftware.openfire.session"><CODE>IncomingServerSession</CODE></A> with a domain validated by the Authoritative
 Server. New domains may be added to the returned IncomingServerSession after they have
 been validated. See
 <A HREF="../../../../org/jivesoftware/openfire/session/LocalIncomingServerSession.html#validateSubsequentDomain(org.dom4j.Element)"><CODE>LocalIncomingServerSession.validateSubsequentDomain(org.dom4j.Element)</CODE></A>. The remote
 server will be able to send packets through this session whose domains were previously
 validated.<p>

 When acting as an Authoritative Server this method will verify the requested key
 and will return null since the underlying TCP connection will be closed after sending the
 response to the Receiving Server.<p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reader</CODE> - reader of DOM documents on the connection to the remote server.
<DT><B>Returns:</B><DD>an IncomingServerSession that was previously validated against the remote server.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html" title="class or interface in java.io">IOException</A></CODE> - if an I/O error occurs while communicating with the remote server.
<DD><CODE>org.xmlpull.v1.XmlPullParserException</CODE> - if an error occurs while parsing XML packets.</DL>
</DD>
</DL>
<HR>

<A NAME="validateRemoteDomain(org.dom4j.Element, org.jivesoftware.openfire.StreamID)"><!-- --></A><H3>
validateRemoteDomain</H3>
<PRE>
public boolean <B>validateRemoteDomain</B>(org.dom4j.Element&nbsp;doc,
                                    <A HREF="../../../../org/jivesoftware/openfire/StreamID.html" title="interface in org.jivesoftware.openfire">StreamID</A>&nbsp;streamID)</PRE>
<DL>
<DD>Returns true if the domain requested by the remote server was validated by the Authoritative
 Server. To validate the domain a new TCP connection will be established to the
 Authoritative Server. The Authoritative Server may be the same Originating Server or
 some other machine in the Originating Server's network.<p>

 If the domain was not valid or some error occured while validating the domain then the
 underlying TCP connection will be closed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>doc</CODE> - the request for validating the new domain.<DD><CODE>streamID</CODE> - the stream id generated by this server for the Originating Server.
<DT><B>Returns:</B><DD>true if the requested domain is valid.</DL>
</DD>
</DL>
<HR>

<A NAME="verifyReceivedKey(org.dom4j.Element, org.jivesoftware.openfire.Connection)"><!-- --></A><H3>
verifyReceivedKey</H3>
<PRE>
public static boolean <B>verifyReceivedKey</B>(org.dom4j.Element&nbsp;doc,
                                        <A HREF="../../../../org/jivesoftware/openfire/Connection.html" title="interface in org.jivesoftware.openfire">Connection</A>&nbsp;connection)</PRE>
<DL>
<DD>Verifies the key sent by a Receiving Server. This server will be acting as the
 Authoritative Server when executing this method. The remote server may have established
 a new connection to the Authoritative Server (i.e. this server) for verifying the key
 or it may be reusing an existing incoming connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>doc</CODE> - the Element that contains the key to verify.<DD><CODE>connection</CODE> - the connection to use for sending the verification result
<DT><B>Returns:</B><DD>true if the key was verified.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Openfire 3.6.4 Javadoc</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/jivesoftware/openfire/server/RemoteServerManager.PermissionPolicy.html" title="enum in org.jivesoftware.openfire.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/jivesoftware/openfire/server/ServerDialback.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ServerDialback.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &copy; 2003-2008 Jive Software.</i>
</BODY>
</HTML>
